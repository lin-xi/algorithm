<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta content="email=no" name="format-detection">
  <meta name="msapplication-tap-highlight" content="no">
  <title>cocktailSort</title>
  <link rel="stylesheet" type="text/css" href="./page.less">
</head>

<body>
  <h1>鸡尾酒冒泡排序</h1>
  <ul>
    <li> 鸡尾酒排序，也叫定向冒泡排序，是冒泡排序的一种改进。此算法与冒泡排序的不同处在于从低到高然后从高到低，而冒泡排序则仅从低到高去比较序列里的每个元素。他可以得到比冒泡排序稍微好一点的效能</li>
  </ul>
  <pre>
    <code>
    function cocktailSort(arr: Array<number>): [Array<number>, number] {
      let cnt: number = 0
      let start = 0;
      for (let i: number = arr.length - 1; i > start; i--) {
        cnt++;
        for (let j: number = start; j < i; j++) {
          cnt++
          if (arr[j] > arr[j + 1]) {
            [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]]
          }
        }
        for (let k: number = i - 1; k > start; k--) {
          cnt++
          if (arr[k] < arr[k - 1]) {
            [arr[k], arr[k - 1]] = [arr[k - 1], arr[k]]
          }
        }
        start++;
      }
      return [arr, cnt]
    }
    </code>
  </pre>
  <div class="playground">
    <div class="edit">
      <p>输入：</p>
      <textarea id="input">5,39,9,32,20,25,18,3,40,23,45,26,16,1,44,0,46,33,2,28,49,24,15,31,41,27,38,6,47,14,12,36,11,7,21,42,19,9,50,34,48,37,10,22,13,4,8,17,29,30,43,35</textarea>
      <a class="button">10000次排序</a>
    </div>
    <div class="view">
      <div>
        <p>结果：</p>
        <textarea id="result"></textarea>
      </div>
      <div>
        耗时：
        <span id="time"></span>
        循环次数：
        <span id="count"></span>
      </div>
    </div>
  </div>
  <script src="./cocktailSort.ts"></script>
  <script type="text/javascript">

    document.querySelector('.button').addEventListener('click', () => {
      let start = Date.now()
      let result
      for (let i = 0; i < 100000; i++) {
        let arr = document.querySelector('#input').value.split(',')
        arr = arr.map(item => {
          return parseInt(item)
        })
        result = window.cocktailSort(arr)
      }
      document.querySelector('#result').innerText = result[0].join(',')
      document.querySelector('#time').innerText = (Date.now() - start) / 100000
      document.querySelector('#count').innerText = result[1]

    })
  </script>

</body>

</html>